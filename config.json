{
  "app": {
    "name": "Univa IoT Gateway",
    "version": "2.4.1",
    "maxConnections": 12
  },
  
  "connectionTypes": {
    "mqtt": {
      "name": "MQTT Broker",
      "description": "Standard IoT messaging protocol",
      "icon": "fa-cloud",
      "color": "blue",
      "defaultName": "MQTT Broker",
      "form": {
        "sections": [
          {
            "title": "Broker Configuration",
            "fields": [
              {
                "type": "protocol-select",
                "id": "protocol",
                "label": "Protocol",
                "default": "mqtts://",
                "options": [
                  {"value": "mqtt://", "label": "MQTT"},
                  {"value": "mqtts://", "label": "MQTTS (SSL)"},
                  {"value": "tcp://", "label": "TCP"},
                  {"value": "ws://", "label": "WebSocket"},
                  {"value": "wss://", "label": "WebSocket Secure"}
                ],
                "required": true
              },
              {
                "type": "host-port",
                "hostId": "host",
                "portId": "port",
                "hostLabel": "Broker Hostname",
                "portLabel": "Port",
                "hostDefault": "broker.company.com",
                "portDefault": 8883,
                "required": true
              },
              {
                "type": "text",
                "id": "clientId",
                "label": "Client ID",
                "default": "univa-gateway-${randomId}",
                "placeholder": "Enter unique client ID",
                "required": true,
                "help": "Must be unique across all connections"
              },
              {
                "type": "number",
                "id": "keepAlive",
                "label": "Keep Alive Interval",
                "default": 60,
                "min": 5,
                "max": 65535,
                "unit": "seconds",
                "help": "Seconds between keep-alive packets"
              }
            ]
          },
          {
            "title": "Authentication",
            "fields": [
              {
                "type": "text",
                "id": "username",
                "label": "Username",
                "placeholder": "Enter username",
                "help": "Leave empty if no authentication required"
              },
              {
                "type": "password",
                "id": "password",
                "label": "Password",
                "placeholder": "Enter password",
                "showGenerate": false
              },
              {
                "type": "toggle",
                "id": "tls",
                "label": "Enable TLS/SSL",
                "default": true,
                "help": "Secure connection with TLS/SSL"
              }
            ]
          },
          {
            "title": "MQTT Options",
            "fields": [
              {
                "type": "radio",
                "id": "qos",
                "label": "Quality of Service",
                "default": 1,
                "options": [
                  {"value": 0, "label": "0 - At most once (Fire and forget)"},
                  {"value": 1, "label": "1 - At least once (Acknowledged delivery)"},
                  {"value": 2, "label": "2 - Exactly once (Assured delivery)"}
                ],
                "help": "Message delivery guarantee level"
              },
              {
                "type": "toggle",
                "id": "cleanSession",
                "label": "Clean Session",
                "default": true,
                "help": "Start with a clean session (no persistent subscriptions)"
              },
              {
                "type": "toggle",
                "id": "retainMessages",
                "label": "Retain Messages",
                "default": false,
                "help": "Server should retain last message"
              }
            ]
          },
          {
            "title": "Publishing Options",
            "fields": [
              {
                "type": "select",
                "id": "publishMode",
                "label": "Publish Mode",
                "default": "onChange",
                "options": [
                  {"value": "onChange", "label": "On Value Change"},
                  {"value": "periodic", "label": "Periodic Interval"},
                  {"value": "event", "label": "Event Based"}
                ],
                "help": "When to publish tag values"
              },
              {
                "type": "number",
                "id": "publishInterval",
                "label": "Publish Interval",
                "default": 1000,
                "min": 10,
                "max": 3600000,
                "unit": "ms",
                "help": "Interval for periodic publishing"
              },
              {
                "type": "toggle",
                "id": "enableBatching",
                "label": "Enable Batching",
                "default": false,
                "help": "Group messages into batches"
              },
              {
                "type": "number",
                "id": "batchSize",
                "label": "Batch Size",
                "default": 50,
                "min": 1,
                "max": 1000,
                "help": "Messages per batch"
              }
            ]
          },
          {
            "title": "Last Will & Testament",
            "fields": [
              {
                "type": "text",
                "id": "lastWillTopic",
                "label": "Will Topic",
                "default": "gateway/status",
                "placeholder": "topic/for/last/will",
                "help": "Topic to publish last will message"
              },
              {
                "type": "text",
                "id": "lastWillMessage",
                "label": "Will Message",
                "default": "{\"status\":\"offline\"}",
                "placeholder": "Last will message content",
                "help": "Message published when connection drops unexpectedly"
              }
            ]
          }
        ]
      },
      "defaultConfig": {
        "server": "mqtts://broker.company.com:8883",
        "clientId": "univa-gw-01",
        "qos": 1,
        "username": "admin",
        "tls": true,
        "keepAlive": 60,
        "cleanSession": true,
        "reconnectDelay": 10,
        "maxReconnect": 5
      }
    },
    
    "http": {
      "name": "HTTP Endpoint",
      "description": "REST API endpoints",
      "icon": "fa-globe",
      "color": "yellow",
      "defaultName": "HTTP API",
      "form": {
        "sections": [
          {
            "title": "Endpoint Configuration",
            "fields": [
              {
                "type": "text",
                "id": "url",
                "label": "Endpoint URL",
                "default": "https://api.company.com/v1/data",
                "placeholder": "https://example.com/api/endpoint",
                "validation": "url",
                "required": true,
                "help": "Full URL including protocol (http:// or https://)"
              },
              {
                "type": "select",
                "id": "method",
                "label": "HTTP Method",
                "default": "POST",
                "options": [
                  {"value": "POST", "label": "POST (Create/Submit data)"},
                  {"value": "PUT", "label": "PUT (Update resource)"},
                  {"value": "PATCH", "label": "PATCH (Partial update)"},
                  {"value": "GET", "label": "GET (Retrieve data)"}
                ],
                "required": true
              },
              {
                "type": "select",
                "id": "contentType",
                "label": "Content Type",
                "default": "application/json",
                "options": [
                  {"value": "application/json", "label": "application/json"},
                  {"value": "application/x-www-form-urlencoded", "label": "application/x-www-form-urlencoded"},
                  {"value": "text/plain", "label": "text/plain"},
                  {"value": "application/xml", "label": "application/xml"}
                ],
                "help": "Content-Type header for HTTP requests"
              }
            ]
          },
          {
            "title": "Push Settings",
            "fields": [
              {
                "type": "select",
                "id": "interval",
                "label": "Push Interval",
                "default": 300,
                "options": [
                  {"value": 0, "label": "Immediate (no batching)"},
                  {"value": 10, "label": "10 seconds"},
                  {"value": 30, "label": "30 seconds"},
                  {"value": 60, "label": "1 minute"},
                  {"value": 300, "label": "5 minutes"},
                  {"value": 900, "label": "15 minutes"},
                  {"value": 3600, "label": "1 hour"}
                ],
                "unit": "seconds",
                "help": "How often to send batched data"
              },
              {
                "type": "number",
                "id": "batchSize",
                "label": "Batch Size",
                "default": 100,
                "min": 1,
                "max": 10000,
                "help": "Maximum number of messages to batch before sending"
              },
              {
                "type": "number",
                "id": "timeout",
                "label": "Request Timeout",
                "default": 30,
                "min": 1,
                "max": 300,
                "unit": "seconds",
                "help": "Timeout for HTTP requests"
              },
              {
                "type": "number",
                "id": "retryCount",
                "label": "Retry Attempts",
                "default": 3,
                "min": 0,
                "max": 10,
                "help": "Number of retries on failure"
              }
            ]
          },
          {
            "title": "Authentication",
            "fields": [
              {
                "type": "select",
                "id": "authType",
                "label": "Authentication Type",
                "default": "bearer",
                "options": [
                  {"value": "none", "label": "None"},
                  {"value": "basic", "label": "Basic Authentication"},
                  {"value": "bearer", "label": "Bearer Token"},
                  {"value": "apiKey", "label": "API Key"},
                  {"value": "oauth2", "label": "OAuth 2.0"}
                ],
                "help": "Select authentication method"
              },
              {
                "type": "password",
                "id": "apiKey",
                "label": "API Key / Token",
                "placeholder": "Enter API key or token",
                "showGenerate": true,
                "help": "Authentication token or API key"
              },
              {
                "type": "toggle",
                "id": "compression",
                "label": "Enable Compression",
                "default": true,
                "help": "Compress data with gzip before sending"
              }
            ]
          },
          {
            "title": "Custom Headers",
            "fields": [
              {
                "type": "key-value-list",
                "id": "headers",
                "label": "Additional Headers",
                "default": [
                  {"key": "X-Client-ID", "value": "univa-gateway"},
                  {"key": "X-Version", "value": "2.4.1"}
                ],
                "keyPlaceholder": "Header Name",
                "valuePlaceholder": "Header Value",
                "help": "Custom HTTP headers to include in requests"
              }
            ]
          }
        ]
      },
      "defaultConfig": {
        "url": "https://api.company.com/v1/data",
        "method": "POST",
        "interval": 300,
        "batchSize": 100,
        "contentType": "application/json",
        "authType": "bearer",
        "apiKey": "*******",
        "compression": true,
        "timeout": 30,
        "retryCount": 3
      }
    },
    
    "aws": {
      "name": "AWS IoT Core",
      "description": "Amazon Web Services IoT",
      "icon": "fa-brands fa-aws",
      "color": "purple",
      "defaultName": "AWS IoT",
      "form": {
        "sections": [
          {
            "title": "AWS Configuration",
            "fields": [
              {
                "type": "text",
                "id": "endpoint",
                "label": "AWS IoT Endpoint",
                "placeholder": "a3qj7x...iot.region.amazonaws.com",
                "required": true,
                "help": "From AWS IoT Console → Settings → Custom endpoint"
              },
              {
                "type": "select",
                "id": "region",
                "label": "AWS Region",
                "default": "us-east-1",
                "options": [
                  {"value": "us-east-1", "label": "us-east-1 (N. Virginia)"},
                  {"value": "us-west-2", "label": "us-west-2 (Oregon)"},
                  {"value": "eu-west-1", "label": "eu-west-1 (Ireland)"},
                  {"value": "ap-southeast-1", "label": "ap-southeast-1 (Singapore)"},
                  {"value": "ap-northeast-1", "label": "ap-northeast-1 (Tokyo)"}
                ],
                "required": true
              },
              {
                "type": "text",
                "id": "thingName",
                "label": "Thing Name",
                "default": "crane-gateway-01",
                "placeholder": "Enter AWS IoT thing name",
                "required": true,
                "help": "Name of the IoT Thing in AWS IoT Core"
              },
              {
                "type": "text",
                "id": "clientId",
                "label": "Client ID",
                "default": "aws-iot-client-01",
                "placeholder": "Enter MQTT client ID",
                "help": "MQTT client identifier (defaults to thing name if empty)"
              }
            ]
          },
          {
            "title": "MQTT Settings",
            "fields": [
              {
                "type": "select",
                "id": "qos",
                "label": "QoS Level",
                "default": 1,
                "options": [
                  {"value": 0, "label": "0 - At most once"},
                  {"value": 1, "label": "1 - At least once"}
                ],
                "help": "AWS IoT supports QoS 0 and 1 only"
              },
              {
                "type": "number",
                "id": "keepAlive",
                "label": "Keep Alive",
                "default": 30,
                "min": 5,
                "max": 1200,
                "unit": "seconds",
                "help": "AWS maximum is 1200 seconds (20 minutes)"
              },
              {
                "type": "toggle",
                "id": "cleanSession",
                "label": "Clean Session",
                "default": true,
                "help": "Start with clean MQTT session"
              }
            ]
          },
          {
            "title": "Security Certificates",
            "fields": [
              {
                "type": "file",
                "id": "deviceCertificate",
                "label": "Device Certificate",
                "accept": ".pem,.crt,.cer",
                "required": true,
                "help": "Upload device certificate file (.pem, .crt)"
              },
              {
                "type": "file",
                "id": "privateKey",
                "label": "Private Key",
                "accept": ".pem,.key",
                "required": true,
                "help": "Upload private key file (.pem, .key)"
              },
              {
                "type": "file",
                "id": "rootCA",
                "label": "Root CA Certificate",
                "accept": ".pem,.crt",
                "default": "Amazon Root CA",
                "help": "Upload AWS root CA certificate (optional - uses Amazon default if not provided)"
              }
            ]
          },
          {
            "title": "Device Shadow",
            "fields": [
              {
                "type": "toggle",
                "id": "shadowUpdate",
                "label": "Enable Shadow Updates",
                "default": true,
                "help": "Sync device state with AWS IoT Device Shadow"
              },
              {
                "type": "select",
                "id": "shadowInterval",
                "label": "Shadow Update Interval",
                "default": 60,
                "options": [
                  {"value": 10, "label": "10 seconds"},
                  {"value": 30, "label": "30 seconds"},
                  {"value": 60, "label": "1 minute"},
                  {"value": 300, "label": "5 minutes"}
                ],
                "unit": "seconds",
                "help": "How often to update device shadow"
              }
            ]
          }
        ]
      },
      "defaultConfig": {
        "endpoint": "a3qj7x...iot.us-east-1.amazonaws.com",
        "region": "us-east-1",
        "thingName": "crane-gw-01",
        "clientId": "aws-iot-client-01",
        "qos": 1,
        "keepAlive": 30,
        "cleanSession": true,
        "shadowUpdate": true,
        "shadowInterval": 60
      }
    },
    
    "azure": {
      "name": "Azure IoT Hub",
      "description": "Microsoft Azure IoT",
      "icon": "fa-brands fa-microsoft",
      "color": "blue",
      "defaultName": "Azure IoT Hub",
      "form": {
        "sections": [
          {
            "title": "IoT Hub Configuration",
            "fields": [
              {
                "type": "text",
                "id": "hostname",
                "label": "IoT Hub Hostname",
                "placeholder": "my-hub.azure-devices.net",
                "required": true,
                "help": "Your Azure IoT Hub hostname"
              },
              {
                "type": "text",
                "id": "deviceId",
                "label": "Device ID",
                "default": "crane-gateway-01",
                "placeholder": "Enter device ID",
                "required": true,
                "help": "Device identifier registered in Azure IoT Hub"
              },
              {
                "type": "password",
                "id": "connectionString",
                "label": "Connection String",
                "placeholder": "HostName=...;DeviceId=...;SharedAccessKey=...",
                "required": true,
                "help": "Device connection string from Azure Portal"
              }
            ]
          },
          {
            "title": "Protocol & Security",
            "fields": [
              {
                "type": "select",
                "id": "protocol",
                "label": "Protocol",
                "default": "mqtt",
                "options": [
                  {"value": "mqtt", "label": "MQTT (Recommended)"},
                  {"value": "amqp", "label": "AMQP"},
                  {"value": "http", "label": "HTTP"}
                ],
                "help": "Communication protocol with Azure IoT Hub"
              },
              {
                "type": "number",
                "id": "sasTokenExpiry",
                "label": "SAS Token Expiry",
                "default": 3600,
                "min": 300,
                "max": 86400,
                "unit": "seconds",
                "help": "SAS token validity duration (1 hour default)"
              },
              {
                "type": "toggle",
                "id": "x509",
                "label": "Use X.509 Certificates",
                "default": false,
                "help": "Use X.509 certificate authentication instead of SAS tokens"
              }
            ]
          },
          {
            "title": "Device Features",
            "fields": [
              {
                "type": "toggle",
                "id": "deviceTwin",
                "label": "Enable Device Twin",
                "default": true,
                "help": "Synchronize device state with Azure Device Twin"
              },
              {
                "type": "toggle",
                "id": "directMethods",
                "label": "Enable Direct Methods",
                "default": false,
                "help": "Allow cloud-to-device direct method calls"
              },
              {
                "type": "select",
                "id": "telemetryInterval",
                "label": "Telemetry Interval",
                "default": 30,
                "options": [
                  {"value": 1, "label": "1 second"},
                  {"value": 5, "label": "5 seconds"},
                  {"value": 30, "label": "30 seconds"},
                  {"value": 60, "label": "1 minute"}
                ],
                "unit": "seconds",
                "help": "Interval for sending telemetry data"
              }
            ]
          }
        ]
      },
      "defaultConfig": {
        "hostname": "my-hub.azure-devices.net",
        "deviceId": "crane-gateway-01",
        "protocol": "mqtt",
        "sasTokenExpiry": 3600,
        "deviceTwin": true,
        "telemetryInterval": 30
      }
    },
    
    "grafana": {
      "name": "Grafana Cloud",
      "description": "Monitoring & Dashboards",
      "icon": "fa-chart-line",
      "color": "orange",
      "defaultName": "Grafana Cloud",
      "form": {
        "sections": [
          {
            "title": "Grafana Configuration",
            "fields": [
              {
                "type": "text",
                "id": "url",
                "label": "Grafana API URL",
                "default": "https://grafana.company.com/api",
                "placeholder": "https://your-grafana-instance.com/api",
                "validation": "url",
                "required": true,
                "help": "Base URL of your Grafana instance API"
              },
              {
                "type": "text",
                "id": "organization",
                "label": "Organization",
                "default": "Univa IoT",
                "placeholder": "Enter organization name",
                "help": "Grafana organization name"
              },
              {
                "type": "text",
                "id": "dashboardId",
                "label": "Dashboard ID",
                "default": "crane-monitoring",
                "placeholder": "Enter dashboard identifier",
                "help": "Target dashboard ID for data"
              },
              {
                "type": "password",
                "id": "apiKey",
                "label": "API Key",
                "placeholder": "Enter Grafana API key",
                "required": true,
                "showGenerate": false,
                "help": "Grafana API key with write permissions"
              }
            ]
          },
          {
            "title": "Data Settings",
            "fields": [
              {
                "type": "select",
                "id": "dataSource",
                "label": "Data Source",
                "default": "influxdb",
                "options": [
                  {"value": "influxdb", "label": "InfluxDB"},
                  {"value": "prometheus", "label": "Prometheus"},
                  {"value": "postgres", "label": "PostgreSQL"},
                  {"value": "mysql", "label": "MySQL"},
                  {"value": "elasticsearch", "label": "Elasticsearch"}
                ],
                "help": "Type of database/data source"
              },
              {
                "type": "text",
                "id": "measurement",
                "label": "Measurement / Table",
                "default": "crane_metrics",
                "placeholder": "Enter measurement or table name",
                "help": "InfluxDB measurement or database table name"
              },
              {
                "type": "number",
                "id": "batchSize",
                "label": "Batch Size",
                "default": 1000,
                "min": 1,
                "max": 10000,
                "help": "Number of data points to batch before sending"
              },
              {
                "type": "number",
                "id": "flushInterval",
                "label": "Flush Interval",
                "default": 10,
                "min": 1,
                "max": 300,
                "unit": "seconds",
                "help": "Maximum time to wait before flushing batch"
              }
            ]
          },
          {
            "title": "Tags & Metadata",
            "fields": [
              {
                "type": "key-value-list",
                "id": "tags",
                "label": "Default Tags",
                "default": [
                  {"key": "gateway", "value": "GW-01"},
                  {"key": "location", "value": "site-a"},
                  {"key": "device_type", "value": "crane"}
                ],
                "keyPlaceholder": "Tag Key",
                "valuePlaceholder": "Tag Value",
                "help": "Tags to include with all data points"
              }
            ]
          },
          {
            "title": "Advanced Options",
            "fields": [
              {
                "type": "select",
                "id": "precision",
                "label": "Timestamp Precision",
                "default": "ms",
                "options": [
                  {"value": "ns", "label": "Nanoseconds"},
                  {"value": "ms", "label": "Milliseconds"},
                  {"value": "s", "label": "Seconds"}
                ],
                "help": "Timestamp precision for time-series data"
              },
              {
                "type": "toggle",
                "id": "retryOnError",
                "label": "Retry on Error",
                "default": true,
                "help": "Automatically retry failed data pushes"
              },
              {
                "type": "toggle",
                "id": "realtimeStreaming",
                "label": "Real-time Streaming",
                "default": true,
                "help": "Stream data in real-time instead of batches"
              }
            ]
          }
        ]
      },
      "defaultConfig": {
        "url": "https://grafana.company.com/api",
        "apiKey": "*******",
        "dashboardId": "crane-monitor",
        "organization": "Univa IoT",
        "dataSource": "influxdb",
        "measurement": "crane_metrics",
        "batchSize": 1000,
        "flushInterval": 10,
        "precision": "ms",
        "retryOnError": true
      }
    },
    
    "websocket": {
      "name": "WebSocket Server",
      "description": "Real-time bidirectional communication",
      "icon": "fa-bolt",
      "color": "green",
      "defaultName": "WebSocket Server",
      "form": {
        "sections": [
          {
            "title": "WebSocket Configuration",
            "fields": [
              {
                "type": "select",
                "id": "protocol",
                "label": "Protocol",
                "default": "wss://",
                "options": [
                  {"value": "ws://", "label": "WebSocket"},
                  {"value": "wss://", "label": "WebSocket Secure"}
                ],
                "required": true
              },
              {
                "type": "host-port",
                "hostId": "host",
                "portId": "port",
                "hostLabel": "WebSocket Hostname",
                "portLabel": "Port",
                "hostDefault": "ws.company.com",
                "portDefault": 443,
                "required": true
              },
              {
                "type": "text",
                "id": "path",
                "label": "Path",
                "default": "/ws",
                "placeholder": "/websocket",
                "help": "WebSocket endpoint path"
              },
              {
                "type": "text",
                "id": "subprotocols",
                "label": "Subprotocols",
                "default": "mqtt, json",
                "placeholder": "protocol1, protocol2",
                "help": "Comma-separated list of supported subprotocols"
              }
            ]
          },
          {
            "title": "Connection Options",
            "fields": [
              {
                "type": "number",
                "id": "pingInterval",
                "label": "Ping Interval",
                "default": 30,
                "min": 5,
                "max": 300,
                "unit": "seconds",
                "help": "Seconds between keep-alive pings"
              },
              {
                "type": "number",
                "id": "reconnectDelay",
                "label": "Reconnect Delay",
                "default": 5,
                "min": 1,
                "max": 60,
                "unit": "seconds",
                "help": "Seconds before attempting reconnect"
              },
              {
                "type": "number",
                "id": "maxReconnectAttempts",
                "label": "Max Reconnect Attempts",
                "default": 10,
                "min": 0,
                "max": 50,
                "help": "0 = infinite retries"
              },
              {
                "type": "toggle",
                "id": "autoReconnect",
                "label": "Auto Reconnect",
                "default": true,
                "help": "Automatically reconnect on connection loss"
              }
            ]
          },
          {
            "title": "Message Format",
            "fields": [
              {
                "type": "select",
                "id": "messageFormat",
                "label": "Message Format",
                "default": "json",
                "options": [
                  {"value": "json", "label": "JSON"},
                  {"value": "binary", "label": "Binary"},
                  {"value": "text", "label": "Plain Text"},
                  {"value": "protobuf", "label": "Protocol Buffers"}
                ],
                "help": "Format for WebSocket messages"
              },
              {
                "type": "number",
                "id": "maxMessageSize",
                "label": "Max Message Size",
                "default": 65536,
                "min": 1024,
                "max": 1048576,
                "unit": "bytes",
                "help": "Maximum size of a single WebSocket message"
              },
              {
                "type": "toggle",
                "id": "compressMessages",
                "label": "Compress Messages",
                "default": false,
                "help": "Use permessage-deflate compression"
              }
            ]
          },
          {
            "title": "Advanced Options",
            "fields": [
              {
                "type": "key-value-list",
                "id": "customHeaders",
                "label": "Custom Headers",
                "default": [
                  {"key": "Origin", "value": "https://univa-gateway.local"},
                  {"key": "User-Agent", "value": "UnivaIoTGateway/2.4.1"}
                ],
                "keyPlaceholder": "Header Name",
                "valuePlaceholder": "Header Value",
                "help": "Custom HTTP headers for WebSocket handshake"
              },
              {
                "type": "toggle",
                "id": "verifySSL",
                "label": "Verify SSL Certificate",
                "default": true,
                "help": "Verify server SSL certificate (wss:// only)"
              }
            ]
          }
        ]
      },
      "defaultConfig": {
        "server": "wss://ws.company.com:443/ws",
        "pingInterval": 30,
        "reconnectDelay": 5,
        "autoReconnect": true,
        "messageFormat": "json",
        "maxMessageSize": 65536,
        "maxReconnectAttempts": 10
      }
    },
    
    "ftp": {
      "name": "FTP Server",
      "description": "File transfer for data logs",
      "icon": "fa-folder",
      "color": "orange",
      "defaultName": "FTP Server",
      "form": {
        "sections": [
          {
            "title": "FTP Server Configuration",
            "fields": [
              {
                "type": "text",
                "id": "host",
                "label": "FTP Hostname",
                "default": "ftp.company.com",
                "placeholder": "ftp.example.com",
                "required": true,
                "help": "FTP server hostname or IP address"
              },
              {
                "type": "number",
                "id": "port",
                "label": "Port",
                "default": 21,
                "min": 1,
                "max": 65535,
                "help": "FTP server port (21 for FTP, 22 for SFTP)"
              },
              {
                "type": "select",
                "id": "protocol",
                "label": "Protocol",
                "default": "ftp",
                "options": [
                  {"value": "ftp", "label": "FTP (File Transfer Protocol)"},
                  {"value": "sftp", "label": "SFTP (SSH File Transfer Protocol)"},
                  {"value": "ftps", "label": "FTPS (FTP over SSL/TLS)"}
                ],
                "required": true
              },
              {
                "type": "select",
                "id": "mode",
                "label": "Transfer Mode",
                "default": "passive",
                "options": [
                  {"value": "active", "label": "Active"},
                  {"value": "passive", "label": "Passive (Recommended)"}
                ],
                "help": "FTP data connection mode"
              }
            ]
          },
          {
            "title": "Authentication",
            "fields": [
              {
                "type": "text",
                "id": "username",
                "label": "Username",
                "default": "univa-user",
                "placeholder": "Enter FTP username",
                "required": true
              },
              {
                "type": "password",
                "id": "password",
                "label": "Password",
                "placeholder": "Enter FTP password",
                "required": true,
                "showGenerate": false
              },
              {
                "type": "toggle",
                "id": "anonymous",
                "label": "Anonymous Login",
                "default": false,
                "help": "Login as anonymous user"
              }
            ]
          },
          {
            "title": "File Options",
            "fields": [
              {
                "type": "text",
                "id": "remotePath",
                "label": "Remote Directory",
                "default": "/uploads/crane-data/",
                "placeholder": "/remote/directory/path/",
                "required": true,
                "help": "Remote directory for file uploads"
              },
              {
                "type": "text",
                "id": "filenamePattern",
                "label": "Filename Pattern",
                "default": "data_${YYYY}-${MM}-${DD}_${HH}-${mm}.csv",
                "placeholder": "filename_${TIMESTAMP}.ext",
                "help": "Pattern for uploaded files. Variables: ${TIMESTAMP}, ${DATE}, ${DEVICE_ID}"
              },
              {
                "type": "select",
                "id": "fileFormat",
                "label": "File Format",
                "default": "csv",
                "options": [
                  {"value": "csv", "label": "CSV (Comma Separated Values)"},
                  {"value": "json", "label": "JSON Lines"},
                  {"value": "xml", "label": "XML"},
                  {"value": "binary", "label": "Binary"}
                ],
                "help": "Format of uploaded files"
              },
              {
                "type": "number",
                "id": "maxFileSize",
                "label": "Max File Size",
                "default": 10485760,
                "min": 1024,
                "max": 1073741824,
                "unit": "bytes",
                "help": "Maximum size of a single file (10MB default)"
              }
            ]
          },
          {
            "title": "Transfer Settings",
            "fields": [
              {
                "type": "number",
                "id": "uploadInterval",
                "label": "Upload Interval",
                "default": 300,
                "min": 30,
                "max": 86400,
                "unit": "seconds",
                "help": "How often to upload files (0 = upload immediately)"
              },
              {
                "type": "toggle",
                "id": "appendMode",
                "label": "Append Mode",
                "default": true,
                "help": "Append data to existing files instead of creating new ones"
              },
              {
                "type": "toggle",
                "id": "compressFiles",
                "label": "Compress Files",
                "default": true,
                "help": "Compress files with gzip before uploading"
              },
              {
                "type": "number",
                "id": "retryAttempts",
                "label": "Retry Attempts",
                "default": 3,
                "min": 0,
                "max": 10,
                "help": "Number of upload retry attempts on failure"
              }
            ]
          }
        ]
      },
      "defaultConfig": {
        "host": "ftp.company.com",
        "port": 21,
        "protocol": "ftp",
        "username": "univa-user",
        "remotePath": "/uploads/crane-data/",
        "mode": "passive",
        "uploadInterval": 300,
        "appendMode": true,
        "compressFiles": true,
        "fileFormat": "csv",
        "maxFileSize": 10485760
      }
    },
    
    "udp": {
      "name": "UDP Stream",
      "description": "Low-latency unidirectional streaming",
      "icon": "fa-wave-square",
      "color": "purple",
      "defaultName": "UDP Stream",
      "form": {
        "sections": [
          {
            "title": "UDP Configuration",
            "fields": [
              {
                "type": "text",
                "id": "remoteHost",
                "label": "Remote Host",
                "default": "192.168.1.100",
                "placeholder": "hostname or IP address",
                "required": true,
                "help": "Destination hostname or IP address"
              },
              {
                "type": "number",
                "id": "remotePort",
                "label": "Remote Port",
                "default": 5000,
                "min": 1,
                "max": 65535,
                "required": true,
                "help": "Destination UDP port"
              },
              {
                "type": "number",
                "id": "localPort",
                "label": "Local Port",
                "default": 0,
                "min": 0,
                "max": 65535,
                "help": "Local port to bind (0 = random available port)"
              },
              {
                "type": "select",
                "id": "addressFamily",
                "label": "Address Family",
                "default": "ipv4",
                "options": [
                  {"value": "ipv4", "label": "IPv4"},
                  {"value": "ipv6", "label": "IPv6"}
                ],
                "help": "Internet Protocol version"
              }
            ]
          },
          {
            "title": "Stream Options",
            "fields": [
              {
                "type": "number",
                "id": "packetSize",
                "label": "Max Packet Size",
                "default": 1472,
                "min": 28,
                "max": 65507,
                "unit": "bytes",
                "help": "Maximum UDP packet size (MTU - headers)"
              },
              {
                "type": "number",
                "id": "sendRate",
                "label": "Send Rate",
                "default": 100,
                "min": 1,
                "max": 10000,
                "unit": "packets/second",
                "help": "Maximum packets per second"
              },
              {
                "type": "number",
                "id": "bufferSize",
                "label": "Buffer Size",
                "default": 65536,
                "min": 1024,
                "max": 1048576,
                "unit": "bytes",
                "help": "Socket buffer size"
              },
              {
                "type": "toggle",
                "id": "broadcast",
                "label": "Broadcast Mode",
                "default": false,
                "help": "Send as broadcast packets"
              }
            ]
          },
          {
            "title": "Message Format",
            "fields": [
              {
                "type": "select",
                "id": "messageFormat",
                "label": "Message Format",
                "default": "binary",
                "options": [
                  {"value": "binary", "label": "Binary (Little Endian)"},
                  {"value": "binary-be", "label": "Binary (Big Endian)"},
                  {"value": "json", "label": "JSON (UDP/TCP)"},
                  {"value": "string", "label": "Null-terminated String"}
                ],
                "help": "Format of UDP packet payload"
              },
              {
                "type": "toggle",
                "id": "includeTimestamp",
                "label": "Include Timestamp",
                "default": true,
                "help": "Add timestamp to each packet"
              },
              {
                "type": "toggle",
                "id": "includeSequence",
                "label": "Include Sequence Number",
                "default": true,
                "help": "Add sequence number for packet ordering"
              },
              {
                "type": "toggle",
                "id": "checksum",
                "label": "Add Checksum",
                "default": false,
                "help": "Add checksum to packets for integrity"
              }
            ]
          },
          {
            "title": "Advanced Options",
            "fields": [
              {
                "type": "number",
                "id": "ttl",
                "label": "Time To Live (TTL)",
                "default": 64,
                "min": 1,
                "max": 255,
                "help": "IP packet TTL (hop count)"
              },
              {
                "type": "toggle",
                "id": "multicast",
                "label": "Multicast",
                "default": false,
                "help": "Send to multicast address"
              },
              {
                "type": "text",
                "id": "multicastGroup",
                "label": "Multicast Group",
                "default": "239.255.0.1",
                "placeholder": "239.x.x.x",
                "help": "Multicast group address (if multicast enabled)"
              },
              {
                "type": "toggle",
                "id": "dontFragment",
                "label": "Don't Fragment",
                "default": true,
                "help": "Set IP Don't Fragment flag"
              }
            ]
          }
        ]
      },
      "defaultConfig": {
        "remoteHost": "192.168.1.100",
        "remotePort": 5000,
        "localPort": 0,
        "packetSize": 1472,
        "sendRate": 100,
        "messageFormat": "binary",
        "includeTimestamp": true,
        "includeSequence": true,
        "addressFamily": "ipv4",
        "ttl": 64,
        "bufferSize": 65536
      }
    }
  },
  
  "defaultStats": {
    "messages": 0,
    "errors": 0,
    "latency": 0,
    "uptime": "0h 0m",
    "lastActive": "Never",
    "bandwidth": "0 MB",
    "successRate": "0%"
  },
  
  "fieldTypes": {
    "text": {
      "template": "<input type='text' class='form-input' placeholder='{placeholder}' value='{value}' {required}>"
    },
    "password": {
      "template": "<div class='flex gap-2'><input type='password' class='form-input flex-1' placeholder='{placeholder}' value='{value}' {required}><button type='button' class='btn-secondary' onclick='generatePassword(this)'>Generate</button></div>"
    },
    "number": {
      "template": "<input type='number' class='form-input' value='{value}' min='{min}' max='{max}' step='{step}' {required}>"
    },
    "select": {
      "template": "<select class='form-select' {required}>{options}</select>"
    },
    "toggle": {
      "template": "<label class='toggle-switch'><input type='checkbox' {checked}><span class='toggle-slider'></span></label>"
    },
    "radio": {
      "template": "<div class='radio-group'>{options}</div>"
    },
    "file": {
      "template": "<div class='file-upload'><input type='file' accept='{accept}' class='hidden' onchange='handleFileUpload(this, \"{id}\")'><button type='button' class='btn-secondary' onclick='this.previousElementSibling.click()'><i class='fa-solid fa-upload mr-1'></i>{label}</button><span class='file-name ml-2 text-xs text-slate-500'>{value}</span></div>"
    },
    "protocol-select": {
      "template": "<div class='flex gap-2'><select class='form-select protocol-select' {required}>{options}</select><input type='text' class='form-input flex-1' placeholder='{hostPlaceholder}' value='{hostValue}' {required}><input type='number' class='form-input w-24' placeholder='Port' value='{portValue}' min='1' max='65535' {required}></div>"
    },
    "host-port": {
      "template": "<div class='flex gap-2'><input type='text' class='form-input flex-1' placeholder='{hostPlaceholder}' value='{hostValue}' {required}><input type='number' class='form-input w-24' placeholder='Port' value='{portValue}' min='1' max='65535' {required}></div>"
    },
    "key-value-list": {
      "template": "<div class='key-value-list space-y-2'>{items}</div>"
    }
  },
  
  "publishingOptions": {
    "modes": {
      "onChange": {
        "name": "On Value Change",
        "description": "Publish only when tag value changes significantly",
        "fields": [
          {
            "type": "number",
            "id": "deadband",
            "label": "Deadband Value",
            "default": 0.5,
            "min": 0,
            "max": 100,
            "step": 0.1,
            "unit": "% or absolute",
            "help": "Minimum change required to trigger publish"
          },
          {
            "type": "select",
            "id": "deadbandType",
            "label": "Deadband Type",
            "default": "absolute",
            "options": [
              {"value": "absolute", "label": "Absolute Value"},
              {"value": "percentage", "label": "Percentage"},
              {"value": "relative", "label": "Relative to Range"}
            ]
          }
        ]
      },
      "periodic": {
        "name": "Periodic Interval",
        "description": "Publish at regular time intervals",
        "fields": [
          {
            "type": "number",
            "id": "interval",
            "label": "Publish Interval",
            "default": 1000,
            "min": 10,
            "max": 3600000,
            "step": 10,
            "unit": "milliseconds"
          },
          {
            "type": "toggle",
            "id": "alignedToClock",
            "label": "Align to Clock",
            "default": false,
            "help": "Align publish times to wall clock"
          }
        ]
      },
      "event": {
        "name": "Event Based",
        "description": "Publish only on specific events or conditions",
        "fields": [
          {
            "type": "key-value-list",
            "id": "eventRules",
            "label": "Event Rules",
            "default": [
              {"key": "alarm", "value": "publish_all"},
              {"key": "shutdown", "value": "publish_critical"}
            ],
            "keyPlaceholder": "Event Type",
            "valuePlaceholder": "Action"
          }
        ]
      }
    },
    
    "batching": {
      "enabled": false,
      "batchSize": 50,
      "batchTimeout": 1000,
      "maxBatchSize": 1000,
      "compression": false,
      "fields": [
        {
          "type": "toggle",
          "id": "enabled",
          "label": "Enable Batching",
          "default": false,
          "help": "Group multiple messages into batches"
        },
        {
          "type": "number",
          "id": "batchSize",
          "label": "Batch Size",
          "default": 50,
          "min": 1,
          "max": 10000,
          "help": "Maximum messages per batch"
        },
        {
          "type": "number",
          "id": "batchTimeout",
          "label": "Batch Timeout",
          "default": 1000,
          "min": 10,
          "max": 10000,
          "unit": "ms",
          "help": "Maximum time to wait for batch completion"
        },
        {
          "type": "toggle",
          "id": "compression",
          "label": "Compress Batches",
          "default": false,
          "help": "Compress batch data with gzip"
        }
      ]
    },
    
    "optimization": {
      "rateLimiting": {
        "enabled": false,
        "maxMessagesPerSecond": 100,
        "burstSize": 10
      },
      "prioritization": {
        "enabled": false,
        "highPriorityTags": [],
        "lowPriorityTags": []
      },
      "fields": [
        {
          "type": "toggle",
          "id": "rateLimiting",
          "label": "Rate Limiting",
          "default": false,
          "help": "Limit maximum publish frequency"
        },
        {
          "type": "number",
          "id": "maxMessagesPerSecond",
          "label": "Max Messages/Second",
          "default": 100,
          "min": 1,
          "max": 10000,
          "help": "Maximum publish rate"
        },
        {
          "type": "number",
          "id": "burstSize",
          "label": "Burst Size",
          "default": 10,
          "min": 1,
          "max": 1000,
          "help": "Allowed burst above rate limit"
        },
        {
          "type": "toggle",
          "id": "tagPrioritization",
          "label": "Tag Prioritization",
          "default": false,
          "help": "Prioritize critical tags"
        }
      ]
    },
    
    "rules": {
      "conditional": {
        "enabled": false,
        "rules": []
      },
      "transformations": {
        "enabled": false,
        "transformations": []
      },
      "fields": [
        {
          "type": "toggle",
          "id": "conditionalPublishing",
          "label": "Conditional Publishing",
          "default": false,
          "help": "Publish based on conditions"
        },
        {
          "type": "key-value-list",
          "id": "publishingRules",
          "label": "Publishing Rules",
          "default": [],
          "keyPlaceholder": "Condition",
          "valuePlaceholder": "Action"
        },
        {
          "type": "toggle",
          "id": "dataTransformations",
          "label": "Data Transformations",
          "default": false,
          "help": "Apply transformations before publishing"
        }
      ]
    }
  },
  
  "defaultConnections": {
    "mqtt": {
      "id": "mqtt-primary",
      "type": "mqtt",
      "name": "Production MQTT Broker",
      "enabled": true,
      "config": {
        "server": "mqtts://broker.company.com:8883",
        "clientId": "univa-gw-01",
        "qos": 1,
        "username": "admin",
        "tls": true,
        "keepAlive": 60,
        "cleanSession": true
      },
      "stats": {
        "messages": 8953,
        "errors": 0,
        "latency": 95,
        "uptime": "8h 12m",
        "lastActive": "2.3s ago",
        "bandwidth": "2.4 MB",
        "successRate": "99.8%"
      }
    },
    "http": {
      "id": "http-analytics",
      "type": "http",
      "name": "Analytics API",
      "enabled": true,
      "config": {
        "url": "https://api.company.com/v1/data",
        "method": "POST",
        "interval": 300,
        "batchSize": 100,
        "contentType": "application/json"
      },
      "stats": {
        "messages": 3245,
        "errors": 12,
        "latency": 210,
        "uptime": "1h 45m",
        "lastActive": "5 min ago",
        "bandwidth": "1.2 MB",
        "successRate": "99.6%"
      }
    },
    "websocket": {
      "id": "ws-realtime",
      "type": "websocket",
      "name": "Real-time Dashboard",
      "enabled": true,
      "config": {
        "server": "wss://dashboard.company.com:443/ws",
        "pingInterval": 30,
        "reconnectDelay": 5,
        "autoReconnect": true,
        "messageFormat": "json",
        "maxMessageSize": 65536,
        "path": "/realtime",
        "subprotocols": "json, mqtt"
      },
      "stats": {
        "messages": 45789,
        "errors": 5,
        "latency": 35,
        "uptime": "12h 45m",
        "lastActive": "0.1s ago",
        "bandwidth": "15.2 MB",
        "successRate": "99.9%"
      }
    },
    "ftp": {
      "id": "ftp-logs",
      "type": "ftp",
      "name": "Log File Archive",
      "enabled": false,
      "config": {
        "host": "archive.company.com",
        "port": 21,
        "protocol": "ftp",
        "username": "logs_user",
        "remotePath": "/uploads/crane-logs/",
        "mode": "passive",
        "uploadInterval": 300,
        "appendMode": true,
        "fileFormat": "csv"
      },
      "stats": {
        "messages": 124,
        "errors": 2,
        "latency": 1200,
        "uptime": "2h 10m",
        "lastActive": "15 min ago",
        "bandwidth": "45 MB",
        "successRate": "98.4%"
      }
    },
    "udp": {
      "id": "udp-telemetry",
      "type": "udp",
      "name": "Telemetry Stream",
      "enabled": true,
      "config": {
        "remoteHost": "192.168.1.200",
        "remotePort": 6000,
        "localPort": 54321,
        "packetSize": 1400,
        "sendRate": 100,
        "messageFormat": "binary",
        "includeTimestamp": true,
        "includeSequence": true
      },
      "stats": {
        "messages": 89245,
        "errors": 128,
        "latency": 8,
        "uptime": "5h 22m",
        "lastActive": "0.0s ago",
        "bandwidth": "142 MB",
        "successRate": "99.8%"
      }
    }
  }
}