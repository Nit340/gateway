<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>General Configuration - Univa Gateway</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        window.FontAwesomeConfig = { autoReplaceSvg: 'nest' };
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563EB',
                        primaryHover: '#1D4ED8',
                        secondary: '#475569',
                        success: '#10B981',
                        warning: '#F59E0B',
                        danger: '#EF4444',
                        surface: '#F8FAFC',
                        card: '#FFFFFF',
                        border: '#E2E8F0',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace']
                    }
                }
            }
        };
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94A3B8; }
        body { font-family: 'Inter', sans-serif; background-color: #F1F5F9; color: #1E293B; }
        .toggle-checkbox:checked { right: 0; border-color: #2563EB; }
        .toggle-checkbox:checked + .toggle-label { background-color: #2563EB; }
        .radio-checkbox:checked { background-color: #2563EB; border-color: #2563EB; }
        
        /* Sidebar Styles */
        .sidebar {
            width: 260px;
            background: white;
            border-right: 1px solid #E2E8F0;
            height: 100vh;
            overflow-y: auto;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 40;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }
        
        .sidebar-logo {
            height: 64px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            border-bottom: 1px solid #E2E8F0;
            background: white;
        }
        
        .logo-text {
            font-weight: 700;
            font-size: 18px;
            color: #2563EB;
        }
        
        .sidebar-nav {
            flex: 1;
            padding: 16px 0;
            overflow-y: auto;
        }
        
        .nav-section {
            margin-bottom: 24px;
        }
        
        .section-title {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #64748B;
            padding: 0 20px 8px;
            margin-bottom: 4px;
            border-bottom: 1px solid #F1F5F9;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            padding: 8px 20px;
            color: #475569;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
            border-left: 3px solid transparent;
            cursor: pointer;
        }
        
        .nav-item:hover {
            background: #F8FAFC;
            color: #2563EB;
        }
        
        .nav-item.active {
            background: #EFF6FF;
            color: #2563EB;
            border-left-color: #2563EB;
            font-weight: 600;
        }
        
        .nav-item i {
            width: 20px;
            margin-right: 12px;
            font-size: 14px;
            text-align: center;
        }
        
        .nav-item-count {
            margin-left: auto;
            background: #E2E8F0;
            color: #475569;
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 500;
        }
        
        .sidebar-footer {
            padding: 16px 20px;
            border-top: 1px solid #E2E8F0;
            background: white;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: #2563EB;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
        
        .sidebar-toggle {
            display: none;
            position: fixed;
            left: 260px;
            top: 20px;
            z-index: 100;
            background: white;
            border: 1px solid #E2E8F0;
            border-left: none;
            border-radius: 0 6px 6px 0;
            padding: 10px 8px;
            cursor: pointer;
            color: #64748B;
            transition: all 0.3s;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .sidebar.collapsed {
            transform: translateX(-260px);
        }
        
        .sidebar.collapsed ~ .main-content-with-sidebar {
            margin-left: 0;
        }
        
        .sidebar.collapsed + .sidebar-toggle {
            left: 0;
        }
        
        .main-content-with-sidebar {
            margin-left: 260px;
            transition: margin-left 0.3s;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-260px);
            }
            
            .sidebar.active {
                transform: translateX(0);
                box-shadow: 0 0 20px rgba(0,0,0,0.1);
            }
            
            .sidebar-toggle {
                display: block;
                left: 0;
            }
            
            .sidebar.active + .sidebar-toggle {
                left: 260px;
            }
            
            .main-content-with-sidebar {
                margin-left: 0;
            }
        }
        
        .signal-strength {
            display: flex;
            gap: 2px;
        }
        
        .signal-bar {
            width: 4px;
            border-radius: 1px;
        }
        
        .signal-bar.active {
            background-color: #10B981;
        }
        
        .signal-bar.inactive {
            background-color: #E2E8F0;
        }
    </style>
</head>
<body class="min-h-screen bg-slate-50">
    
    <!-- Sidebar will be inserted here by JavaScript -->
    <div id="sidebar-container"></div>

    <!-- Main Content Container -->
    <div class="main-content-with-sidebar">
        <!-- Header -->
        <header id="header" class="bg-white border-b border-border sticky top-0 z-30 shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
                <!-- Left: Logo & Breadcrumb -->
                <div class="flex items-center space-x-4">
                    <div class="hidden md:flex items-center text-sm text-slate-500 h-6">
                        <span><i class="fa-solid fa-sliders mr-2"></i>Settings</span>
                        <i class="fa-solid fa-chevron-right text-xs mx-2"></i>
                        <span class="text-slate-900 font-medium" id="page-title">General Configuration</span>
                    </div>
                </div>

                <!-- Right: Controls -->
                <div class="flex items-center space-x-4">
                    <div class="relative hidden sm:block">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fa-solid fa-server text-slate-400 text-sm"></i>
                        </div>
                        <select id="gateway-select" class="pl-9 pr-8 py-1.5 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary bg-slate-50 text-slate-700 font-medium cursor-pointer hover:bg-white transition-colors">
                            <option>Univa-GW-01</option>
                            <option>Univa-GW-02</option>
                            <option>Univa-GW-03</option>
                        </select>
                    </div>
                    <div class="h-6 w-px bg-slate-200 mx-2 hidden sm:block"></div>
                    <button class="text-slate-500 hover:text-slate-700 font-medium text-sm px-3 py-1.5 rounded-lg hover:bg-slate-100 transition-colors">
                        <i class="fa-solid fa-circle-question mr-2"></i> Help
                    </button>
                    <button class="text-slate-500 hover:text-slate-700 font-medium text-sm px-3 py-1.5 rounded-lg hover:bg-slate-100 transition-colors" id="cancel-btn">
                        Cancel
                    </button>
                    <button class="bg-primary hover:bg-primaryHover text-white font-medium text-sm px-4 py-1.5 rounded-lg shadow-sm transition-colors flex items-center" id="header-save-btn">
                        <i class="fa-solid fa-floppy-disk mr-2"></i> Save
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-grow">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <div class="mb-8">
                    <h1 class="text-2xl font-bold text-slate-900">General Configuration</h1>
                    <p class="text-slate-500 text-sm mt-1">Establish gateway identity, network, time, and operational behavior. Required before activating any device, safety logic, or protocol communication.</p>
                </div>

                <div class="space-y-8">
                    
                    <!-- SECTION A: Gateway Identity -->
                    <section id="section-identity" class="bg-white rounded-xl shadow-sm border border-border p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                                <i class="fa-regular fa-id-card mr-2 text-primary"></i> 
                                <span class="mr-2">Gateway Identity</span>
                                <span class="text-xs font-normal text-slate-500">SECTION A</span>
                            </h2>
                            <div class="text-xs text-slate-500 bg-slate-100 px-3 py-1 rounded-full">
                                Required for ERP/Cloud Integration
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Gateway Name <span class="text-red-500">*</span></label>
                                <input type="text" value="Univa-GW-01" class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary placeholder-slate-400" placeholder="Enter gateway name">
                                <p class="text-xs text-slate-500 mt-1">Human-readable ID used in cloud UI dashboards</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Serial Number</label>
                                <div class="relative">
                                    <input type="text" value="GW2025-1190021" readonly class="w-full bg-slate-100 font-mono rounded-lg border-slate-200 border px-3 py-2 text-sm text-slate-600">
                                    <i class="fa-solid fa-lock absolute right-3 top-2.5 text-slate-400 text-xs"></i>
                                </div>
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-slate-700 mb-1">Deployment Site <span class="text-red-500">*</span></label>
                                <input type="text" value="Chennai Port - Zone A" class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary" placeholder="Site name or description">
                            </div>
                            
                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-slate-700 mb-3">Location Mode</label>
                                <div class="flex items-center space-x-6">
                                    <label class="flex items-center">
                                        <input type="radio" name="location-mode" value="manual" class="h-4 w-4 text-primary focus:ring-primary border-slate-300" checked>
                                        <span class="ml-2 text-sm text-slate-700">Manual Entry</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="location-mode" value="gps" class="h-4 w-4 text-primary focus:ring-primary border-slate-300">
                                        <span class="ml-2 text-sm text-slate-700">GPS Automatic</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4 md:col-span-2">
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Latitude</label>
                                    <input type="text" value="12.99123" class="w-full font-mono rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary" placeholder="0.000000">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Longitude</label>
                                    <input type="text" value="80.12312" class="w-full font-mono rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary" placeholder="0.000000">
                                </div>
                            </div>
                            
                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-slate-700 mb-1">Asset/Crane ID</label>
                                <input type="text" value="CRN-CT-12" class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary" placeholder="Optional asset identifier">
                                <p class="text-xs text-slate-500 mt-1">Used by CraneIQ for zoning, map overlays, and anti-collision</p>
                            </div>
                        </div>
                    </section>

                    <!-- SECTION B: Date, Time & Localization -->
                    <section id="section-time" class="bg-white rounded-xl shadow-sm border border-border p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                                <i class="fa-regular fa-clock mr-2 text-primary"></i> 
                                <span class="mr-2">Date, Time & Localization</span>
                                <span class="text-xs font-normal text-slate-500">SECTION B</span>
                            </h2>
                            <div class="text-xs text-slate-500 bg-slate-100 px-3 py-1 rounded-full">
                                Ensures correct event sequencing
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Timezone <span class="text-red-500">*</span></label>
                                <select class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-white">
                                    <option>Asia/Kolkata (GMT+05:30)</option>
                                    <option>UTC (GMT+00:00)</option>
                                    <option>America/New_York (GMT-05:00)</option>
                                    <option>Europe/London (GMT+00:00)</option>
                                    <option>Asia/Singapore (GMT+08:00)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">NTP Server <span class="text-red-500">*</span></label>
                                <select class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-white">
                                    <option>pool.ntp.org</option>
                                    <option>time.google.com</option>
                                    <option>time.windows.com</option>
                                    <option>time.apple.com</option>
                                    <option>Custom...</option>
                                </select>
                            </div>
                            
                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-slate-700 mb-1">Set Time Manually (Fallback)</label>
                                <div class="flex items-center space-x-4">
                                    <input type="date" value="2025-03-12" class="rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                    <input type="time" value="14:53" class="rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                    <button class="text-primary hover:text-primaryHover font-medium text-sm px-4 py-2 border border-primary/30 rounded-lg hover:bg-blue-50 transition-colors">
                                        <i class="fa-solid fa-rotate mr-2"></i> Sync Now
                                    </button>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Date Format</label>
                                <select class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-white">
                                    <option>DD/MM/YYYY</option>
                                    <option>MM/DD/YYYY</option>
                                    <option>YYYY-MM-DD</option>
                                    <option>DD Month YYYY</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Time Format</label>
                                <select class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-white">
                                    <option>24-Hour (14:30)</option>
                                    <option>12-Hour (2:30 PM)</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Language</label>
                                <select class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-white">
                                    <option>English</option>
                                    <option>हिंदी (Hindi)</option>
                                    <option>Español (Spanish)</option>
                                    <option>Français (French)</option>
                                    <option>Deutsch (German)</option>
                                </select>
                            </div>
                        </div>
                    </section>

                    <!-- SECTION C: Network Configuration -->
                    <section id="section-network" class="bg-white rounded-xl shadow-sm border border-border p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                                <i class="fa-solid fa-network-wired mr-2 text-primary"></i> 
                                <span class="mr-2">Network Configuration</span>
                                <span class="text-xs font-normal text-slate-500">SECTION C</span>
                            </h2>
                            <div class="text-xs text-slate-500 bg-slate-100 px-3 py-1 rounded-full">
                                Defines MQTT, Modbus TCP, OTA, and Cloud API connections
                            </div>
                        </div>
                        
                        <!-- Network Mode Selection -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-slate-700 mb-3">Network Mode</label>
                            <div class="flex flex-wrap gap-4">
                                <label class="flex items-center">
                                    <input type="radio" name="network-mode" value="ethernet" class="h-4 w-4 text-primary focus:ring-primary border-slate-300" checked>
                                    <span class="ml-2 text-sm text-slate-700 flex items-center">
                                        <i class="fa-solid fa-ethernet mr-2"></i> Ethernet
                                    </span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="network-mode" value="wifi" class="h-4 w-4 text-primary focus:ring-primary border-slate-300">
                                    <span class="ml-2 text-sm text-slate-700 flex items-center">
                                        <i class="fa-solid fa-wifi mr-2"></i> WiFi
                                    </span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="network-mode" value="lte" class="h-4 w-4 text-primary focus:ring-primary border-slate-300">
                                    <span class="ml-2 text-sm text-slate-700 flex items-center">
                                        <i class="fa-solid fa-signal mr-2"></i> LTE/4G
                                    </span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Ethernet Configuration -->
                        <div id="ethernet-config" class="mb-6 space-y-4">
                            <h3 class="text-sm font-semibold text-slate-900 mb-3">Ethernet Configuration</h3>
                            
                            <div class="flex items-center space-x-6 mb-4">
                                <label class="flex items-center">
                                    <input type="radio" name="ip-assignment" value="dhcp" class="h-4 w-4 text-primary focus:ring-primary border-slate-300" checked>
                                    <span class="ml-2 text-sm text-slate-700">DHCP</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="ip-assignment" value="static" class="h-4 w-4 text-primary focus:ring-primary border-slate-300">
                                    <span class="ml-2 text-sm text-slate-700">Static IP</span>
                                </label>
                            </div>
                            
                            <div id="static-ip-config" class="hidden grid grid-cols-1 md:grid-cols-2 gap-4 bg-slate-50 p-4 rounded-lg border border-slate-200">
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">IP Address</label>
                                    <input type="text" value="192.168.1.50" class="w-full font-mono rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Subnet Mask</label>
                                    <input type="text" value="255.255.255.0" class="w-full font-mono rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Gateway</label>
                                    <input type="text" value="192.168.1.1" class="w-full font-mono rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">DNS 1</label>
                                    <input type="text" value="8.8.8.8" class="w-full font-mono rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">DNS 2</label>
                                    <input type="text" value="8.8.4.4" class="w-full font-mono rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                </div>
                            </div>
                        </div>
                        
                        <!-- WiFi Configuration -->
                        <div id="wifi-config" class="hidden mb-6 space-y-4">
                            <h3 class="text-sm font-semibold text-slate-900 mb-3">WiFi Configuration</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">SSID</label>
                                    <input type="text" class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary" placeholder="WiFi network name">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Password</label>
                                    <input type="password" class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary" placeholder="WiFi password">
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-slate-700">Signal Strength:</span>
                                <div class="signal-strength">
                                    <div class="signal-bar h-4 w-1 active"></div>
                                    <div class="signal-bar h-6 w-1 active"></div>
                                    <div class="signal-bar h-8 w-1 active"></div>
                                    <div class="signal-bar h-10 w-1 active"></div>
                                    <div class="signal-bar h-12 w-1 inactive"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Cellular/LTE Configuration -->
                        <div id="cellular-config" class="hidden mb-6 space-y-4">
                            <h3 class="text-sm font-semibold text-slate-900 mb-3">Cellular/LTE Configuration</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">APN</label>
                                    <input type="text" value="internet" class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Username</label>
                                    <input type="text" class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Password</label>
                                    <input type="password" class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                </div>
                                <div class="flex items-center">
                                    <div>
                                        <label class="block text-sm font-medium text-slate-700 mb-1">Signal Strength</label>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-sm font-mono">-67 dBm</span>
                                            <span class="text-xs px-2 py-1 bg-emerald-100 text-emerald-800 rounded-full">Good</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- MAC Address Display -->
                        <div class="border-t border-slate-200 pt-6">
                            <div class="p-4 border border-slate-200 rounded-lg bg-slate-50">
                                <label class="block text-sm font-medium text-slate-700 mb-1">MAC Address</label>
                                <div class="font-mono text-slate-600">00:1A:2B:3C:4D:5E</div>
                                <p class="text-xs text-slate-500 mt-1">Unique hardware identifier for network communication</p>
                            </div>
                        </div>
                    </section>

                    <!-- SECTION D: System Heartbeat & Cloud Health - SIMPLIFIED -->
                    <section id="section-heartbeat" class="bg-white rounded-xl shadow-sm border border-border p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                                <i class="fa-solid fa-heart-pulse mr-2 text-primary"></i> 
                                <span class="mr-2">System Heartbeat & Cloud Health</span>
                                <span class="text-xs font-normal text-slate-500">SECTION D</span>
                            </h2>
                            <div class="text-xs text-slate-500 bg-slate-100 px-3 py-1 rounded-full">
                                Monitors gateway connectivity
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Heartbeat Interval</label>
                                <div class="flex items-center">
                                    <input type="number" value="30" min="10" max="3600" class="w-32 rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                    <span class="ml-2 text-sm text-slate-700">seconds</span>
                                </div>
                                <p class="text-xs text-slate-500 mt-1">How often gateway reports to cloud</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Offline Threshold</label>
                                <div class="flex items-center">
                                    <input type="number" value="120" min="30" max="3600" class="w-32 rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                                    <span class="ml-2 text-sm text-slate-700">seconds</span>
                                </div>
                                <p class="text-xs text-slate-500 mt-1">When to mark gateway as offline</p>
                            </div>
                        </div>
                    </section>

                    <!-- SECTION E: System Preferences -->
                    <section id="section-preferences" class="bg-white rounded-xl shadow-sm border border-border p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                                <i class="fa-solid fa-gear mr-2 text-primary"></i> 
                                <span class="mr-2">System Preferences</span>
                                <span class="text-xs font-normal text-slate-500">SECTION E</span>
                            </h2>
                            <div class="text-xs text-slate-500 bg-slate-100 px-3 py-1 rounded-full">
                                Enhances usability in crane cabins
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Default Logging Level</label>
                                <select class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary bg-white">
                                    <option>Debug</option>
                                    <option>Info</option>
                                    <option>Warning</option>
                                    <option>Error</option>
                                    <option>Critical</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Auto-Update Time</label>
                                <input type="time" value="02:00" class="w-full rounded-lg border-slate-300 border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary">
                            </div>
                            
                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-slate-700 mb-3">Theme</label>
                                <div class="flex items-center space-x-6">
                                    <label class="flex items-center">
                                        <input type="radio" name="theme" value="light" class="h-4 w-4 text-primary focus:ring-primary border-slate-300" checked>
                                        <span class="ml-2 text-sm text-slate-700">Light</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="theme" value="dark" class="h-4 w-4 text-primary focus:ring-primary border-slate-300">
                                        <span class="ml-2 text-sm text-slate-700">Dark</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-slate-700 mb-3">Require Confirmation For</label>
                                <div class="space-y-3">
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="h-4 w-4 text-primary rounded border-slate-300 focus:ring-primary">
                                        <span class="ml-2 text-sm text-slate-700">Reboot</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" checked class="h-4 w-4 text-primary rounded border-slate-300 focus:ring-primary">
                                        <span class="ml-2 text-sm text-slate-700">Factory Reset</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" class="h-4 w-4 text-primary rounded border-slate-300 focus:ring-primary">
                                        <span class="ml-2 text-sm text-slate-700">Network Reset</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </main>

        <!-- Footer Actions -->
        <footer id="footer" class="bg-white border-t border-border mt-12 sticky bottom-0 z-40 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button class="bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 font-medium text-sm px-4 py-2 rounded-lg shadow-sm transition-colors flex items-center">
                        <i class="fa-solid fa-plug mr-2 text-slate-400"></i> Test Connection
                    </button>
                </div>
                <div class="flex items-center space-x-3">
                    <button class="text-slate-500 hover:text-red-600 font-medium text-sm px-4 py-2 rounded-lg hover:bg-red-50 transition-colors flex items-center">
                        <i class="fa-solid fa-rotate-left mr-2"></i> Reset to Default
                    </button>
                    <div class="h-6 w-px bg-slate-200 mx-1"></div>
                    <button class="text-red-600 hover:text-red-700 hover:bg-red-50 font-medium text-sm px-4 py-2 rounded-lg transition-colors flex items-center">
                        <i class="fa-solid fa-power-off mr-2"></i> Reboot Gateway
                    </button>
                    <div class="h-6 w-px bg-slate-200 mx-1"></div>
                    <button class="bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 font-medium text-sm px-5 py-2 rounded-lg shadow-sm transition-colors" id="footer-cancel-btn">
                        Cancel
                    </button>
                    <button class="bg-primary hover:bg-primaryHover text-white font-medium text-sm px-6 py-2 rounded-lg shadow-sm transition-colors flex items-center shadow-lg shadow-blue-500/30" id="footer-save-btn">
                        <i class="fa-solid fa-floppy-disk mr-2"></i> Save Configuration
                    </button>
                </div>
            </div>
        </footer>
    </div> <!-- End of main content container -->

    <script>
        // Fetch and insert sidebar from sidebar.html
        async function loadSidebar() {
            try {
                const response = await fetch('sidebar.html');
                if (!response.ok) {
                    throw new Error(`Failed to load sidebar: ${response.status}`);
                }
                
                const html = await response.text();
                
                // Insert the entire HTML content
                document.getElementById('sidebar-container').innerHTML = html;
                
                // Update the active page to General Configuration
                updateActivePage();
                
                // Initialize sidebar functionality
                initializeSidebar();
                
            } catch (error) {
                console.error('Error loading sidebar:', error);
                // Fallback: create a basic sidebar if fetch fails
                createFallbackSidebar();
            }
        }

        // Create fallback sidebar if fetch fails
        function createFallbackSidebar() {
            const fallbackHTML = `
                <div class="sidebar" id="sidebar">
                    <div class="sidebar-logo">
                        <div class="logo-text">
                            <i class="fa-solid fa-satellite-dish mr-2"></i> Innospace
                        </div>
                    </div>
                    <div class="sidebar-nav">
                        <div class="nav-section">
                            <div class="section-title">Configuration</div>
                            <a href="general-configuration.html" class="nav-item active">
                                <i class="fa-solid fa-sliders"></i> General Configuration
                            </a>
                            <a href="device-management.html" class="nav-item">
                                <i class="fa-solid fa-microchip"></i> Device management
                            </a>
                        </div>
                    </div>
                    <div class="sidebar-footer">
                        <div class="user-profile">
                            <div class="user-avatar">
                                <i class="fa-solid fa-user"></i>
                            </div>
                            <div class="user-info">
                                <h4>Admin User</h4>
                                <p>System Administrator</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="sidebar-toggle" id="sidebarToggle">
                    <i class="fa-solid fa-bars"></i>
                </div>
            `;
            
            document.getElementById('sidebar-container').innerHTML = fallbackHTML;
            initializeSidebar();
        }

        // Update active page in sidebar
        function updateActivePage() {
            // Remove active class from all nav items
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
            });
            
            // Add active class to General Configuration
            const generalConfigLink = Array.from(navItems).find(item => 
                item.textContent.includes('General Configuration') || 
                item.textContent.includes('General Configuration')
            );
            
            if (generalConfigLink) {
                generalConfigLink.classList.add('active');
            }
        }

        // Initialize sidebar functionality
        function initializeSidebar() {
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.getElementById('sidebarToggle');
            
            if (!sidebar || !sidebarToggle) return;
            
            // Toggle sidebar
            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('active');
                
                // Toggle icon
                const icon = this.querySelector('i');
                if (sidebar.classList.contains('active')) {
                    icon.className = 'fa-solid fa-times';
                } else {
                    icon.className = 'fa-solid fa-bars';
                }
            });
            
            // Handle mobile menu
            if (window.innerWidth <= 1024) {
                sidebar.classList.add('active');
                sidebarToggle.style.left = '260px';
                sidebarToggle.querySelector('i').className = 'fa-solid fa-times';
            }
            
            // Update on resize
            window.addEventListener('resize', handleResponsive);
        }

        // Simple Clock
        setInterval(() => {
            const now = new Date();
            if (document.getElementById('clock')) {
                document.getElementById('clock').innerText = now.toLocaleTimeString();
            }
        }, 1000);

        // Network Configuration Functions
        function toggleNetworkConfig() {
            const networkMode = document.querySelector('input[name="network-mode"]:checked').value;
            
            // Hide all config sections
            document.getElementById('ethernet-config').style.display = 'none';
            document.getElementById('wifi-config').style.display = 'none';
            document.getElementById('cellular-config').style.display = 'none';
            
            // Show selected config
            if (networkMode === 'ethernet') {
                document.getElementById('ethernet-config').style.display = 'block';
            } else if (networkMode === 'wifi') {
                document.getElementById('wifi-config').style.display = 'block';
            } else if (networkMode === 'lte') {
                document.getElementById('cellular-config').style.display = 'block';
            }
            
            checkFormChanges();
        }

        function toggleIPAssignment() {
            const ipAssignment = document.querySelector('input[name="ip-assignment"]:checked').value;
            const staticConfig = document.getElementById('static-ip-config');
            
            if (ipAssignment === 'static') {
                staticConfig.classList.remove('hidden');
            } else {
                staticConfig.classList.add('hidden');
            }
            checkFormChanges();
        }

        // Enable Save button on interaction
        function checkFormChanges() {
            const saveBtn = document.getElementById('header-save-btn');
            const footerSaveBtn = document.getElementById('footer-save-btn');
            if (saveBtn) {
                saveBtn.disabled = false;
                saveBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
            if (footerSaveBtn) {
                footerSaveBtn.disabled = false;
                footerSaveBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
        }

        // Close sidebar when clicking outside on mobile
        function handleSidebarClickOutside(event) {
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.getElementById('sidebarToggle');
            const isMobile = window.innerWidth <= 1024;
            
            if (isMobile && sidebar.classList.contains('active')) {
                const isClickInsideSidebar = sidebar.contains(event.target);
                const isClickOnToggle = sidebarToggle.contains(event.target);
                
                if (!isClickInsideSidebar && !isClickOnToggle) {
                    sidebar.classList.remove('active');
                    sidebarToggle.querySelector('i').className = 'fa-solid fa-bars';
                    sidebarToggle.style.left = '0';
                }
            }
        }

        // Handle responsive behavior
        function handleResponsive() {
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.getElementById('sidebarToggle');
            
            if (window.innerWidth <= 1024) {
                sidebar.classList.remove('active');
                sidebarToggle.style.display = 'block';
                sidebarToggle.style.left = '0';
                sidebarToggle.querySelector('i').className = 'fa-solid fa-bars';
            } else {
                sidebar.classList.remove('collapsed');
                sidebar.classList.remove('active');
                sidebarToggle.style.display = 'none';
                sidebarToggle.style.left = '260px';
            }
        }

        // Save configuration function
        function saveConfiguration() {
            // In a real implementation, this would send data to backend
            const saveBtn = document.getElementById('header-save-btn');
            const footerSaveBtn = document.getElementById('footer-save-btn');
            
            saveBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin mr-2"></i> Saving...';
            footerSaveBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin mr-2"></i> Saving...';
            saveBtn.disabled = true;
            footerSaveBtn.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                saveBtn.innerHTML = '<i class="fa-solid fa-floppy-disk mr-2"></i> Save';
                footerSaveBtn.innerHTML = '<i class="fa-solid fa-floppy-disk mr-2"></i> Save Configuration';
                saveBtn.disabled = false;
                footerSaveBtn.disabled = false;
                
                // Show success message
                alert('Configuration saved successfully!');
            }, 1500);
        }

        // Initialize event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Load sidebar first
            loadSidebar();
            
            // Network mode toggle
            document.querySelectorAll('input[name="network-mode"]').forEach(radio => {
                radio.addEventListener('change', toggleNetworkConfig);
            });
            
            // IP assignment toggle
            document.querySelectorAll('input[name="ip-assignment"]').forEach(radio => {
                radio.addEventListener('change', toggleIPAssignment);
            });
            
            // Attach listeners to all inputs for "Save" enablement
            document.querySelectorAll('input, select, textarea').forEach(element => {
                element.addEventListener('change', checkFormChanges);
                element.addEventListener('keyup', checkFormChanges);
            });
            
            // Initialize network config
            toggleNetworkConfig();
            toggleIPAssignment();
            
            // Handle cancel buttons
            document.getElementById('cancel-btn').addEventListener('click', function() {
                if (confirm('Discard all unsaved changes?')) {
                    window.location.reload();
                }
            });
            
            document.getElementById('footer-cancel-btn').addEventListener('click', function() {
                if (confirm('Discard all unsaved changes?')) {
                    window.location.reload();
                }
            });
            
            // Handle save buttons
            document.getElementById('header-save-btn').addEventListener('click', saveConfiguration);
            document.getElementById('footer-save-btn').addEventListener('click', saveConfiguration);
            
            // Handle gateway select
            const gatewaySelect = document.getElementById('gateway-select');
            if (gatewaySelect) {
                gatewaySelect.addEventListener('change', function() {
                    if (confirm('Switch to another gateway? Unsaved changes will be lost.')) {
                        window.location.reload();
                    } else {
                        this.value = 'Univa-GW-01';
                    }
                });
            }
            
            // Add click outside handler for sidebar
            document.addEventListener('click', handleSidebarClickOutside);
            
            // Initial responsive setup
            setTimeout(() => {
                handleResponsive();
            }, 100);
        });
    </script>
</body>
</html>