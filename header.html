<header id="main-header" class="bg-white border-b border-border sticky top-0 z-30 shadow-sm" style="left: 0; right: 0; transition: left 0.3s ease;">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
        <!-- Left: Breadcrumb -->
        <div class="flex items-center">
            <div class="flex items-center text-sm">
                <span class="text-slate-600 flex items-center">
                    <i class="fa-solid fa-sliders mr-2 text-slate-500"></i>Settings
                </span>
                <i class="fa-solid fa-chevron-right text-xs mx-3 text-slate-400"></i>
                <span class="text-slate-900 font-medium">General Configuration</span>
            </div>
        </div>

        <!-- Right: Gateway Selector & Help -->
        <div class="flex items-center space-x-4">
            <!-- Help Button -->
            <button class="text-slate-600 hover:text-primary hover:bg-slate-50 font-medium text-sm px-3 py-2 rounded-lg transition-colors flex items-center">
                <i class="fa-solid fa-circle-question mr-2"></i> Help
            </button>
            
            <!-- Divider -->
            <div class="h-6 w-px bg-slate-200"></div>
            
            <!-- Gateway Selector -->
            <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fa-solid fa-server text-slate-400 text-sm"></i>
                </div>
                <select id="gateway-select" class="pl-9 pr-8 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary bg-white text-slate-800 font-medium cursor-pointer hover:border-slate-400 transition-colors appearance-none">
                    <option>Univa-GW-01</option>
                    <option>Univa-GW-02</option>
                    <option>Univa-GW-03</option>
                </select>
                <div class="absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none">
                    <i class="fa-solid fa-chevron-down text-slate-400 text-xs"></i>
                </div>
            </div>
        </div>
    </div>
</header>

<style>
    /* Header positioning */
    #main-header {
        position: fixed;
        top: 0;
        width: 100%;
        height: 64px;
        z-index: 30;
        background: white;
    }
    
    /* Header specific styles */
    #gateway-select {
        min-width: 140px;
        background-image: none;
    }
    
    #gateway-select:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }
    
    #gateway-select:hover {
        border-color: #94a3b8;
    }
    
    /* Remove default select arrow for Webkit browsers */
    #gateway-select::-webkit-list-button,
    #gateway-select::-webkit-calendar-picker-indicator {
        display: none !important;
    }
    
    /* Remove default select arrow for Firefox */
    #gateway-select {
        -moz-appearance: none;
        -webkit-appearance: none;
        appearance: none;
    }
    
    /* Help button hover effect */
    button:hover i {
        color: #2563EB;
    }
</style>

<script>
    // Handle gateway select change
    document.addEventListener('DOMContentLoaded', function() {
        const gatewaySelect = document.getElementById('gateway-select');
        if (gatewaySelect) {
            gatewaySelect.addEventListener('change', function() {
                if (confirm('Switch to another gateway? Unsaved changes will be lost.')) {
                    window.location.reload();
                } else {
                    this.value = 'Univa-GW-01';
                }
            });
        }
        
        // Handle help button click
        const helpButton = document.querySelector('button');
        if (helpButton) {
            helpButton.addEventListener('click', function() {
                // Open help documentation or modal
                alert('Help documentation will open in a new tab.');
                // In real implementation:
                // window.open('/help/general-configuration', '_blank');
            });
        }
        
        // Update header position based on sidebar state
        function updateHeaderPosition() {
            const header = document.getElementById('main-header');
            const sidebar = document.getElementById('sidebar');
            
            if (header && sidebar) {
                if (sidebar.classList.contains('active')) {
                    if (sidebar.classList.contains('collapsed')) {
                        header.style.left = '70px';
                    } else {
                        header.style.left = '260px';
                    }
                } else {
                    header.style.left = '0';
                }
            }
        }
        
        // Initial position update
        updateHeaderPosition();
        
        // Watch for sidebar changes
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.attributeName === 'class') {
                    updateHeaderPosition();
                }
            });
        });
        
        // Start observing sidebar for class changes
        const sidebar = document.getElementById('sidebar');
        if (sidebar) {
            observer.observe(sidebar, { attributes: true });
        }
        
        // Also update on window resize
        window.addEventListener('resize', updateHeaderPosition);
    });
</script>